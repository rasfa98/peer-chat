<audio #audio loop></audio>

<div *ngIf="!calling && !dialing">
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <h1 class="title is-4">{{activeUserItem.fullName}}</h1>
    </div>

    <div class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item">
          <button class="button is-primary" (click)="startVideoCall(activeUserItem.id)">Video call</button>
          <button class="button is-primary" (click)="startVoiceCall(activeUserItem.id)">Voice call</button>
          <button class="button is-danger" (click)="removeFriend(activeUserItem.id)">Remove friend</button>
        </div>
      </div>
    </div>
  </nav>
</div>

<div *ngIf="calling">
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <h1 class="title is-4">Incoming {{callInformation.callType}} call from {{callInformation.caller}}...</h1>
    </div>

    <div class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item">
          <button class="button is-success" (click)="answerCall()">Answer call</button>
          <button class="button is-danger" (click)="hangUp()">Hang up</button>
        </div>
      </div>
    </div>
  </nav>
</div>

<div *ngIf="dialing">
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
          <h1 class="title is-4">Making a {{dialInformation.dialType}} call to {{dialInformation.receiver}}...</h1>
      </div>
  
      <div class="navbar-menu">
        <div class="navbar-end">
          <div class="navbar-item">
            <button class="button is-danger" (click)="cancelCall()">Cancel</button>
          </div>
        </div>
      </div>
    </nav>
  </div>

  <div *ngIf="error">
    <div class="notification is-warning">
      <button (click)="error = false" class="close"><span class="icon is-small"><i class="ion-android-cancel"></i></span></button>
      An error occured when trying to establish a connection, please try again... 
    </div>
  </div>
